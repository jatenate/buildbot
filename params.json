{"name":"Buildbot","body":"# Buildbot: Twitter DM Notifications\r\n\r\nBuildbot lets you easily send notifications via Twitter DM's. It was originally created for sending DM's when a long running build completes, but can easily be used for arbitrary DM's (for example, a daily cron job that DM's the weather).\r\n\r\nAlternatively, if you want to receive an SMS when your job completes, check out [buildbot_sms](https://github.com/jatenate/buildbot_sms).\r\n\r\nIt is composed of two parts, the bbot script and the Buildbot server.\r\n\r\n## bbot script\r\n\r\nPrepend bbot to any command to receive a DM with the exit status when it completes.\r\n\r\n```bash\r\nbbot ant long-running-build\r\n```\r\n\r\n#### Setting up the bbot script\r\n\r\n* Follow [@buildbot](http://www.twitter.com/buildbot)\r\n* You will receive a DM from @buildbot with a token for your account (for example: `\"octopusorange\"`)\r\n* Set `$BBOT_TO` and `$BBOT_TOKEN` environment variables\r\n\r\n```bash\r\n# Add to your sh profile\r\nexport BBOT_TO=\"your_twitter_handle\"\r\nexport BBOT_TOKEN=\"octopusorange\"\r\n```\r\n\r\n* Put the `bbot` script somewhere in your `PATH`\r\n\r\n```bash\r\ncp ./bbot /usr/local/bin/bbot\r\nchmod +x /usr/local/bin/bbot\r\n```\r\n\r\n#### Using Buildbot via curl\r\n\r\n`GET` requests to `bldbt.com/send` require 3 parameters:\r\n\r\n1. `to`: twitter handle of the user to send to (ie ladygaga). This user must follow @buildbot\r\n2. `token`: token for the user specified by `to`. This token was automatically sent as a DM from @buildbot when you followed\r\n3. `text`: URL encoded text to send\r\n\r\n```bash\r\ncurl -G --data-urlencode \"text=This is a test of the emergency buildbot system\" bldbt.com/send?to=$BBOT_TO&token=$BBOT_TOKEN\r\n```\r\n\r\n#### Limitations\r\n\r\nThe twitter API [limits each account to 250 DM's per day](https://support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following). Want to send a lot? Set up your own instance of Buildbot below.\r\n\r\nThe twitter API also [prevents you from sending the same dm more than once](https://support.twitter.com/articles/68809). To get around this, when a send fails because the text has been sent before, buildbot prepends a random hex string to the text.\r\n\r\n\r\n\r\n## Buildbot server\r\n\r\nAn instance of the Buildbot server is running at bldbt.com, using the @buildbot account to send DM's. To set up your own server:\r\n\r\n* [Create a new twitter app](https://dev.twitter.com/apps), and generate access tokens for it\r\n* Clone the Buildbot Repo\r\n\r\n```bash\r\ngit clone git@github.com:jatenate/buildbot.git\r\ncd buildbot\r\ngit remote add upstream git://github.com/jatenate/buildbot.git\r\nnpm install\r\n```\r\n* Set `CONSUMER_KEY`, `CONSUMER_SECRET`, `ACCESS_TOKEN`, and `ACCESS_SECRET` in `server/modules/twitter.js`\r\n* Start redis and buildbot\r\n\r\n```bash\r\nredis-server\r\nnode server/app.js\r\n```\r\n","tagline":"Buildbot: Twitter DM Notifications","google":"UA-32155234-1","note":"Don't delete this file! It's used internally to help with page regeneration."}